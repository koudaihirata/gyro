<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ジャイロセンサー</title>
</head>
<body>
  <h1>ジャイロセンサーのデータを取得</h1>
  <button id="requestPermissionBtn">ジャイロアクセスを許可</button>
  <p id="alpha">Alpha: 0</p>
  <p id="beta">Beta: 0</p>
  <p id="gamma">Gamma: 0</p>

  <script>
    const alphaElement = document.getElementById('alpha');
    const betaElement = document.getElementById('beta');
    const gammaElement = document.getElementById('gamma');
    const requestPermissionBtn = document.getElementById('requestPermissionBtn');

    requestPermissionBtn.addEventListener('click', () => {
      if (typeof DeviceMotionEvent.requestPermission === 'function') {
        DeviceMotionEvent.requestPermission()
          .then(response => {
            if (response === 'granted') {
              window.addEventListener('deviceorientation', (event) => {
                const alpha = event.alpha;
                const beta = event.beta;
                const gamma = event.gamma;

                alphaElement.textContent = `Alpha: ${alpha}`;
                betaElement.textContent = `Beta: ${beta}`;
                gammaElement.textContent = `Gamma: ${gamma}`;
              });
            } else {
              alert('ジャイロデータへのアクセスが拒否されました。');
            }
          })
          .catch(console.error);
      }
    });
  </script>
</body>
</html>
